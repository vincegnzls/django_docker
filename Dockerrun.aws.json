{
    "AWSEBDockerrunVersion": 2,
    "containerDefinitions": [
        {
            "command": [
                "sh",
                "-c",
                "\"aws-env --format=dotenv > .env && sed -i 's/\"//g' .env\""
            ],
            "environment": [
                {
                    "name": "AWS_ENV_PATH",
                    "value": "/django/docker/"
                },
                {
                    "name": "AWS_REGION",
                    "value": "ap-southeast-1"
                }
            ],
            "image": "vincegnzls/test-aws-env",
            "name": "aws-env",
            "memory": 128
        },
        {
            "command": [
                "/start-celerybeat"
            ],
            "image": "vincegnzls/test-celerybeat",
            "name": "celerybeat",
            "memory": 128
        },
        {
            "command": [
                "/start"
            ],
            "image": "vincegnzls/test-django",
            "name": "django",
            "memory": 256,
            "volumesFrom": [
                {
                    "sourceContainer": "aws-env"
                }
            ]
        },
        {
            "command": [
                "/start-flower"
            ],
            "image": "vincegnzls/test-flower",
            "name": "flower",
            "memory": 128
        },
        {
            "essential": true,
            "image": "vincegnzls/test-traefik",
            "name": "traefik",
            "portMappings": [
                {
                    "containerPort": 80,
                    "hostPort": 80
                },
                {
                    "containerPort": 443,
                    "hostPort": 443
                },
                {
                    "containerPort": 5555,
                    "hostPort": 5555
                }
            ],
            "memory": 128
        }
    ]
}